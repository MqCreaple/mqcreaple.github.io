---
title: 【整活】函数应该被放在右边
layout: blog
tags: ["jokes", "language", "miscellaneous"]
languages:
    zh: blog-zh/_posts/2023-02-01-function.md
    en: blog-en/_posts/2023-02-01-function.md
---

似乎现在通用的、把函数名放在左边的函数记号：

$$f(x)$$

是一个历史遗留的错误。正确的书写顺序应该是：

$$(x)f$$

## 1

在所有自然语言中，大约有45%的语言是**主-宾-谓**结构, 这是所有语法结构中最常见的（与其他语法结构，如“主-谓-宾”相比）。比如说“我**看到**一只猫”的日语翻译是「私は猫を**見る**」（“*watashi wa neko wo **miru***”），韩语翻译则是“나는 고양이를 **본다**”（“*na neun goyang-i leul **bonda***”）。与这些语序相比，大约只有12%的语言是“谓-主-宾”或者“谓-宾-主”等将谓语放在句首的语序。

如果我们把主语和宾语看作是独立变量而谓语看作是函数（比如在句子*“1加上2”*里），那么对于世界上大多数人，函数名放在变量名后面更自然、更好理解。

## 2

在大多数编程语言中，为了和数学符号保持一致，函数名通常在变量名的前面。比如在C语言中：

```c
int add(int a, int b) {
    return a + b;
}

add(1, 2);
```

但是在更现代的编程语言里，**管道运算**变得更常用了。管道运算把函数名放在参数后面，中间用管道连接，比如如下Julia代码：

```julia
julia> [1, 4, 5, 6, 2, 7] |> sort
6-element Vector{Int64}:
 1
 2
 4
 5
 6
 7
```

管道运算符的基本思想和函数记号不同。当你在使用管道运算的时候，你会想象数据从左到右经过了一系列“处理工厂”将最初的数据一步步转化成你想要的结果；而你在使用函数记号的时候，你在想象把一系列“操作”施加在数据上。

## 3

甚至纯粹的数学就可以论证上述结论。

大多数情况下，多个操作符并列且没有括号的时候，操作的顺序是从左向右的。

$$X\cap Y\cup Z = (X\cap Y)\cup Z$$

但是，对于函数复合运算，它的操作顺序是从右向左的。

$$(f\circ g\circ h)(x) = f(g(h(x)))$$

在上面的例子里，$h$最先作用在$x$上，之后是$g$，最后是$f$。如果函数名放在参数的右边，这样函数的合并顺序就是从左向右的了。

$$(x)(h\circ g\circ f) = (((x)h)g)f$$
